<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <meta name="robots" content="noindex">
    <link rel="icon" href="../Resources/logo.png">
    <title>YOLO Object Counting</title>
    <script src="../Libraries/jquery-3.1.1.js"></script>
    <script src="../Libraries/semantic/out/semantic.min.js"></script>
    <script src="../Libraries/bootstrap.min.js"></script>
    <script src="./page.js"></script>
    <link rel="stylesheet" type="text/css" href="../Libraries/semantic/out/semantic.min.css">
    <link rel="stylesheet" href="../Libraries/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../scal.css">
</head>
<!--  -->

<body onload="init()">
    <div class="ui sidebar inverted vertical menu">
        <a onclick="location.assign('..')" class="item">Home</a>
        <a onclick="location.assign('../YOLOCounting')" class="header item">YOLO Object Counting</a>
        <a onclick="location.assign('../PurpleAir')" class="item">Air Quality</a>
        <a onclick="location.assign('../Features')" class="item">Testbed Features</a>
    </div>
    <div class="pusher">
        <div class="ui large inverted top fixed hidden menu" id="menubar">
            <div class="ui container">
                <a class="header item" onclick="toggleSidebar()"><i class="sidebar icon"></i>Menu</a>
            </div>
        </div>

        <div class="ui inverted vertical masthead center aligned segment">
            <div class="ui container">
                <div class="ui large secondary inverted menu">
                    <a class="header item" onclick="toggleSidebar()"><i class="sidebar icon"></i>Menu</a>
                </div>
            </div>
            <div class="ui text container">
                <h1 id="header_text">Counting Objects Anonymously using YOLO v3</h1>
            </div>
        </div>

        <div class="ui vertical stripe segment">
            <!-- The information beneath the panel -->
            <div class="ui justified container">
                <div class="info_panel">
                    <h2 class="ui inverted header"><i class="info icon"></i>Background Information:</h2>
                    This is done using <a href="http://pjreddie.com/darknet/yolo/" target="_blank">YOLO (You Only
                        Look Once)</a>, a Convolutional Neural Network (CNN) that has been trained to detect a
                    variety of different objects. This project in particular uses
                    <a href="http://pjreddie.com/darknet/yolo/" target="_blank">YOLO v3</a>, which can detect 80
                    different kinds of objects!<br> This project also uses
                    <a href="http://www.pyimagesearch.com/2018/07/23/simple-object-tracking-with-opencv/" target="_blank">PyImageSearch's
                        Object Tracking</a>. Originally it utilized a Caffe model, but that was found to be quite
                    inefficient and required much lower quality footage (thus reducing accuracy as well). Instead
                    of suffering in quality and accuracy, the team decided to utilize YOLO's accurate detection
                    with PyImageSearch's accurate tracking. The result is shown above (unless the processing server
                    is offline).

                    <h2 class="ui inverted header"><i class="chart line icon"></i>Data Analysis:</h2>

                    <div class="ui two column stackable grid">
                        <div class="ui column">
                            <img class="ui rounded image" src="../Resources/by_type.png">
                            Results of tracking, categorized by Type. You can see signs of jay walking, but stop
                            patterns, and more.
                        </div>
                        <div class="ui column">
                            <img class="ui rounded image" src="../Resources/by_dir.png">
                            Results of tracking, categorized by Direction. You can see traffic flow and problematic
                            driving habits (such as drivers drifting into bike or turn lane)
                        </div>
                    </div>
                </div>
            </div>

            <div class="ui horizontal divider"></div>
            <div class="video_streams_section" style="max-width: 1280px; max-height: 720px; width: 80%; margin: auto;">
                <!-- Video Stream Buttons -->
                <div class="ui column">
                    <div class="ui inverted center aligned segment">
                        <div>
                            <div class="ui blue pointing below label">
                                Video Streams
                            </div>
                        </div>
                        <div class="ui responsive buttons" id="video_switches">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>
                </div>


                <div class="ui inverted segment">
                    <!-- Create the embedded video feed -->
                    <div class="ui rounded embed" id="video" data-url="http://150.182.130.194:3031/video_feed">
                        <!-- Stop / Start button: -->
                        <a class="ui red huge left corner label" id="hide_button" onclick="toggleVideo(this)">
                            <i class="stop icon" style="cursor: pointer"></i>
                        </a>
                        <!-- Attach the "fullscreen" button: -->
                        <a class="ui blue huge right corner label" onclick="location.assign(document.getElementById('video').getAttribute('data-url'))">
                            <i class="expand arrows alternate icon" style="cursor: pointer"></i>
                        </a>
                        <!-- Backup code if the video embed fails: -->
                        <div class="ui center aligned vertical segment" id="embed_bg">
                            <div class="ui huge steps" id="video_fail">
                                <div class="step">
                                    <i class="large icons">
                                        <i class="red video icon"></i>
                                    </i>
                                    Video Feed is Currently Offline
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>